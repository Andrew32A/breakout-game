(()=>{"use strict";var t=function(){function t(t,i){this.width=t,this.height=i}return t.prototype.render=function(t){var i=t.createLinearGradient(0,0,0,this.height);i.addColorStop(0,"#171e26"),i.addColorStop(1,"#3f586b"),t.fillStyle=i,t.fillRect(0,0,this.width,this.height)},t}();const i=t;var s=function(){function t(t,i,s,o,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===s&&(s=100),void 0===o&&(o=100),void 0===e&&(e="#f00"),this.x=t,this.y=i,this.width=s,this.height=o,this.color=e}return t.prototype.moveTo=function(t,i){this.x=t,this.y=i},t.prototype.moveBy=function(t,i){this.x+=t,this.y+=i},t.prototype.render=function(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()},t}();const o=s;var e,r=(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),n=function(t){function i(i,s,o,e,r,n){void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=2),void 0===e&&(e=-2),void 0===r&&(r=10),void 0===n&&(n="#0095DD");var h=t.call(this,i,s,0,0,n)||this;return h.radius=r,h.dx=o,h.dy=e,h}return r(i,t),i.prototype.move=function(){this.x+=this.dx,this.y+=this.dy},i.prototype.render=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()},i}(o);const h=n;var l=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},t(i,s)};return function(i,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function o(){this.constructor=i}t(i,s),i.prototype=null===s?Object.create(s):(o.prototype=s.prototype,new o)}}();const c=function(t){function i(i,s,o,e,r){void 0===o&&(o=75),void 0===e&&(e=20),void 0===r&&(r="#FF009E");var n=t.call(this,i,s,o,e,r)||this;return n.status=1,n}return l(i,t),i}(o);var d=function(){function t(t,i,s,o,e,r,n,h){this.rows=t,this.columns=i,this.width=s,this.height=o,this.padding=e,this.offsetTop=r,this.offsetLeft=n,this.color=h,this.bricks=[],this.init_bricks()}return t.prototype.init_bricks=function(){for(var t=0;t<this.columns;t+=1){this.bricks[t]=[];for(var i=0;i<this.rows;i+=1){var s=t*(this.width+this.padding)+this.offsetLeft,o=i*(this.height+this.padding)+this.offsetTop;this.bricks[t][i]=new c(s,o,this.width,this.height,this.color)}}},t.prototype.render=function(t){for(var i=0;i<this.columns;i+=1)for(var s=0;s<this.rows;s+=1){var o=this.bricks[i][s];1===o.status&&o.render(t)}},t}();const a=d;var u=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},t(i,s)};return function(i,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function o(){this.constructor=i}t(i,s),i.prototype=null===s?Object.create(s):(o.prototype=s.prototype,new o)}}();const f=function(t){function i(i,s,o,e,r,n){void 0===o&&(o=75),void 0===e&&(e=20),void 0===r&&(r="#0095DD"),void 0===n&&(n=7);var h=t.call(this,i,s,o,e,r)||this;return h.speed=n,h.color=r,h}return u(i,t),i}(o);var p=function(){function t(t,i,s){void 0===s&&(s=3),this.x=t,this.y=i,this.startingLives=s,this.lives=s}return t.prototype.render=function(t){t.font="16px Ariel",t.fillStyle="#0095DD",t.fillText("Lives: ".concat(this.lives),this.x,this.y)},t.prototype.loseLife=function(){this.lives-=1},t.prototype.reset=function(){this.lives=this.startingLives},t}();const y=p;var b=function(){function t(t,i){this.x=t,this.y=i,this.score=0}return t.prototype.render=function(t){t.font="16px Arial",t.fillStyle="#0095DD",t.fillText("Score: ".concat(this.score),this.x,this.y)},t.prototype.update=function(t){this.score+=t},t.prototype.reset=function(){this.score=0},t}();const v=b;var w=document.getElementById("canvas"),k=w.getContext("2d"),x=function(){function t(t,s){this.canvas=t,this.ctx=s,this.x=t.width/2,this.y=t.height-30,this.dx=2,this.dy=-2,this.score=new v(8,20),this.lives=new y(t.width-65,20,3),this.background=new i(t.width,t.height),this.paddleHeight=10,this.paddleWidth=75,this.paddleSpeed=7,this.paddleColor="#0095DD",this.paddleX=(t.width-75)/2,this.paddleY=t.height-10,this.paddle=new f(this.paddleX,this.paddleY,this.paddleWidth,this.paddleHeight,this.paddleSpeed,this.paddleColor),this.ballRadius=10,this.ballColor="cyan",this.ball=new h(this.x/2,this.y-55,this.dx,this.dy,this.ballRadius,this.ballColor),this.brickRowCount=3,this.brickColumnCount=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.brickColor="cyan",this.bricks=new a(this.brickRowCount,this.brickColumnCount,this.brickWidth,this.brickHeight,this.brickPadding,this.brickOffsetTop,this.brickOffsetLeft,this.brickColor),this.rightPressed=!1,this.leftPressed=!1,this.render()}return t.prototype.init=function(){var t=this;this.bricks.init_bricks(),document.addEventListener("keydown",(function(i){t.keyDownHandler(i)})),document.addEventListener("keyup",(function(i){t.keyUpHandler(i)})),document.addEventListener("mousemove",(function(i){t.mouseMoveHandler(i)}))},t.prototype.keyDownHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)},t.prototype.keyUpHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},t.prototype.mouseMoveHandler=function(t){var i=t.clientX-this.canvas.offsetLeft;i>0&&i<w.width&&this.paddle.moveTo(i-this.paddle.width/2,this.paddleY)},t.prototype.ballLogic=function(){(this.ball.x+this.ball.dx>this.canvas.width-this.ballRadius||this.ball.x+this.ball.dx<this.ballRadius)&&(this.ball.dx=-this.ball.dx),this.ball.y+this.ball.dy<this.ballRadius?this.ball.dy=-this.ball.dy:this.ball.y+this.ball.dy>this.canvas.height-this.ballRadius&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddleWidth?this.ball.dy=-this.ball.dy:(this.lives.lives-=1,this.lives.lives?(this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height-30,this.ball.dx=2,this.ball.dy=-2):(alert("GAME OVER"),document.location.reload())))},t.prototype.paddleLogic=function(){this.rightPressed&&this.paddle.x<this.canvas.width-this.paddle.width?this.paddle.moveBy(7,0):this.leftPressed&&this.paddle.x>0&&this.paddle.moveBy(-7,0)},t.prototype.collisionDetection=function(){for(var t=0;t<this.brickColumnCount;t+=1)for(var i=0;i<this.brickRowCount;i+=1){var s=this.bricks.bricks[t][i];1===s.status&&this.ball.x>s.x&&this.ball.x<s.x+this.brickWidth&&this.ball.y>s.y&&this.ball.y<s.y+this.brickHeight&&(this.ball.dy=-this.ball.dy,s.status=0,this.score.score+=1,this.score.score===this.brickRowCount*this.brickColumnCount&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}},t.prototype.render=function(){var t=this;this.background.render(this.ctx),this.ball.render(this.ctx),this.paddle.render(this.ctx),this.bricks.render(this.ctx),this.score.render(this.ctx),this.lives.render(this.ctx),this.ball.move(),this.paddleLogic(),this.ballLogic(),this.collisionDetection(),requestAnimationFrame((function(){t.render()}))},t}();new x(w,k).init()})();